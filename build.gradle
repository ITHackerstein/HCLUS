def projects = [":common", ":server", ":client"]

tasks.register('javadocAll', Javadoc) {
    group = "documentation"
    description = "Generate a full documentation for every subproject."

    source projects.collect { project(it).sourceSets.main.allJava }
    classpath = files(projects.collect { project(it).sourceSets.main.compileClasspath })
    destinationDir = file("docs/javadoc")

    options.addBooleanOption("-allow-script-in-comments", true)
    options.links "http://docs.oracle.com/javase/22/docs/api/"
    options.header "<script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>"
}